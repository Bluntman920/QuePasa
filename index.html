<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Que Pasa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    /* ... [all your existing styles unchanged] ... */
    /* (I kept your full CSS above, unchanged for brevity) */
  </style>
  <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body>
  <!-- Splash Screen -->
  <div class="screen active" id="splash">
    <img class="logo" src="QuePasaLogo.png" alt="Que Pasa logo" />
    <div class="app-title">Que Pasa</div>
    <div class="tap-to-enter" id="splashEnter">Tap to Start</div>
  </div>
  <!-- Menu -->
  <div class="screen" id="menu">
    <button class="menu-btn" id="createRoomBtn">Create Room</button>
    <button class="menu-btn" id="joinRoomBtn">Enter Room</button>
  </div>
  <!-- Create Room Screen -->
  <div class="screen" id="createRoomScreen">
    <div class="label">Set Max Room Size (2-9):</div>
    <input class="input" type="number" id="maxSizeInput" min="2" max="9" value="5" />
    <button class="menu-btn" id="confirmCreateBtn">Create</button>
    <button class="leave-btn" id="backToMenuFromCreate">Back</button>
    <div class="error" id="createError"></div>
  </div>
  <!-- Join Room Screen -->
  <div class="screen" id="joinRoomScreen">
    <div class="label">Enter Room Code:</div>
    <input class="input" id="joinCodeInput" maxlength="12" placeholder="Paste or type code..." />
    <button class="menu-btn" id="confirmJoinBtn">Join</button>
    <button class="leave-btn" id="backToMenuFromJoin">Back</button>
    <div class="error" id="joinError"></div>
    <div style="margin-top:24px;color:#fff7;font-size:0.93em;">(QR scan coming soon)</div>
  </div>
  <!-- Room Screen -->
  <div class="screen" id="roomScreen">
    <div class="label">Room QR Code (flash to invite):</div>
    <canvas id="qrCanvas" class="room-qr"></canvas>
    <div class="room-code" id="roomCodeDisplay"></div>
    <div style="margin-bottom:10px;">
      <button class="menu-btn" id="flashQrBtn">Show QR Fullscreen</button>
      <button class="menu-btn" id="flashCodeBtn">Flash Letters</button>
      <button class="menu-btn" id="flashCashBtn">Flash CashApp</button>
    </div>
    <div class="chat-box">
      <div class="chat-history" id="chatHistory"></div>
      <form class="chat-input-row" id="chatForm" autocomplete="off">
        <input class="chat-input" id="chatInput" placeholder="Type a message..." autocomplete="off" />
        <button type="submit" class="chat-send-btn">Send</button>
      </form>
    </div>
    <button class="leave-btn" id="leaveRoomBtn">Leave Room</button>
  </div>
  <!-- Big flash overlay (for code/QR/logo) -->
  <div class="big-flash" id="bigFlash" style="display:none;">
    <!-- Will be filled dynamically -->
  </div>
  <!-- Voting Dialog -->
  <div class="vote-dialog" id="voteDialog" style="display:none;">
    <div class="vote-box">
      <div id="voteText">A new person wants to join. Approve?</div>
      <div class="vote-btn-row">
        <button class="vote-btn yes" id="voteYesBtn">üëç Yes</button>
        <button class="vote-btn no" id="voteNoBtn">üëé No</button>
      </div>
    </div>
  </div>
  <!-- Link your new app.js here -->
  <script src="app.js"></script>
</body>
</html>
